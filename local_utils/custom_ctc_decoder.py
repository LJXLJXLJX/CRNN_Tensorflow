#!/user/bin/env python
# coding=utf-8
'''
@project : CRNN_Tensorflow
@author  : LJX
@time   : 2019-04-01 19:26:25
'''


def ctc_decode(input):
    output = []
    index = 0
    while index < len(input):
        while input[index] == 5990:
            index += 1
            if index >= len(input):
                return output
        cur = input[index]
        while input[index] == cur:
            index += 1
            if index >= len(input):
                return output
        output.append(cur)
        index += 1
    return output


if __name__ == '__main__':
    a = [5990, 5990, 5990, 5990, 5990, 5990, 5990, 5990, 5990, 2370, 5990, 5990, 5990, 5990
        , 5990, 5990, 3594, 5990, 5990, 5990, 5990, 5990, 1949, 5990, 5990, 5990, 5990, 5990
        , 5990, 5990, 1724, 5990, 5990, 5990, 5990, 5990, 5990, 5990, 2370, 5990, 5990, 5990
        , 5990, 5990, 5990, 3590, 5990, 5990, 5990, 5990, 5990, 5990, 314, 5990, 5990, 5990
        , 5990, 5990, 5990, 5990, 536, 5990, 5990, 5990, 5990, 5990, 5990, 1983, 5990, 5990
        , 5990, 5990, 5990, 5990, 709, 5990, 5990, 1382, 5990, 5990, 5990, 5990, 1998, 5990
        , 5990, 5990, 484, 5990, 5990, 5990, 5990, 3386, 5990, 5990, 5990, 357, 5990, 5990
        , 5990, 357, 5990, 5990, 5990, 1998, 1998, 5990, 5990, 5990, 2456, 5990, 5990, 5990
        , 5990, 5990, 2528, 5990, 5990, 5990, 5990, 2528, 5990, 5990, 5990, 5990, 5990, 5990
        , 2943, 5990, 5990, 5990, 5990, 5990, 5990, 5003, 5990, 5990, 5990, 5990, 5990, 5990
        , 3395, 5990, 5990, 5990, 5990, 5990, 5990, 5990, 3594, 5990, 5990, 5990, 5990]

    ret = ctc_decode(a)
    print(ret)
